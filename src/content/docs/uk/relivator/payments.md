---
title: Payment Providers
description: This is the list of payment providers of Relivator.
---

## Stripe

*Наведені нижче інструкції можуть бути застарілими, тому, будь ласка, перевірте їх! Ми повністю оновимо цей файл README.md з випуском Relivator 1.3.0.*.
Зверніться до файлу [`.env.example`](.env.example) як до керівництва щодо того, де і як отримати всі важливі ключі змінних оточення для Stripe, включно з веб-хуками для localhost і deployment.
Локально встановіть [Stripe CLI](<https://stripe.com/docs/stripe-cli>) і виконайте команду `bun stripe:listen`, щоб ініціювати слухач веб-хуків Stripe. Ця дія з'єднає Stripe з обліковим записом і згенерує ключ веб-хука, який ви можете встановити як змінну оточення в налаштуваннях Stripe.
При тестуванні Stripe ви можете використовувати його тестові дані: `4242424242424242` | `12/34` | `567` | `Випадкове ім'я` | `Випадкова країна`.
Будь ласка, зверніться до файлу [src/app/api/webhooks/stripe/route.ts](src/app/api/webhooks/stripe/route.ts) для більш детальної інформації про роботу Stripe в додатку. Ви також можете відвідати [офіційний репозиторій Stripe](https://github.com/stripe/stripe-node#readme), де ви знайдете багато корисної інформації.
Маршрут API веб-хука Stripe не потрібно викликати явно в додатку, наприклад, після того, як користувач вибрав план підписки або здійснив покупку. Веб-хуки працюють незалежно від дій користувача у фронтенді і слугують засобом, за допомогою якого Stripe передає події безпосередньо на сервер.
Коли на стороні Stripe відбувається подія, наприклад, успішна оплата, Stripe генерує об'єкт події. Потім цей об'єкт автоматично надсилається до кінцевої точки, яку ви вказали, або в інформаційній панелі Stripe, або, в цілях тестування, в `package.json` за допомогою Stripe CLI. Нарешті, маршрут API сервера отримує подію і обробляє її відповідним чином.
Наприклад, коли користувач обирає план підписки, ви зазвичай спочатку використовуєте API Stripe для створення об'єкта `Payment Intent` або `Setup Intent`. Ця дія може бути виконана як на стороні клієнта, так і на стороні сервера. Потім фронтенд підтверджує платіж за допомогою Stripe.js, тим самим завершуючи процес оплати або налаштування підписки.
Веб-хук автоматично запускається на основі цих подій. Немає необхідності вручну «викликати» маршрут веб-хука; Stripe керує цим за вас відповідно до налаштувань в панелі інструментів Stripe Dashboard або в `package.json` для локального тестування.
Після розгортання програми не забудьте вказати URL-адресу веб-хука в Stripe Dashboard. Перейдіть до розділу Webhooks і введіть наступну URL-адресу: `https://thedomain.com/api/webhooks/stripe`.
Таким чином, немає необхідності вказувати шлях до маршруту API Stripe, де користувач обирає план підписки. Механізм веб-хуків працює незалежно і запускається Stripe автоматично.
